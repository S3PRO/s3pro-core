<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd"
        logicalFilePath="2023-03-23-12-00-IP-0001-initial-schema.xml">

    <changeSet id="IP-0001-initial-schema" author="amanivchuk">
        <sql>
            CREATE TABLE companies (
                id BIGSERIAL NOT NULL PRIMARY KEY,
                name VARCHAR(255) NOT NULL,
                size VARCHAR(255) NOT NULL
            );

            CREATE TABLE users (
                id BIGSERIAL NOT NULL PRIMARY KEY,
                type VARCHAR(50) NOT NULL,
                email VARCHAR(255),
                user_name VARCHAR(255),
                first_name VARCHAR(255),
                last_name VARCHAR(255),
                phone_number VARCHAR(255),
                lang VARCHAR(255) NOT NULL,
                created_date TIMESTAMP NOT NULL,
                zitadel_user_id VARCHAR(255) NOT NULL,
                zitadel_resource_owner VARCHAR(255) NOT NULL,
                company_id bigint NOT NULL references companies(id)
            );

            CREATE TABLE documents (
                id BIGSERIAL NOT NULL PRIMARY KEY,
                name VARCHAR(255) NOT NULL,
                company_id bigint NOT NULL references companies(id)
            );

        </sql>
    </changeSet>
</databaseChangeLog>